{% comment %}Reusable table header cell with sort links{% endcomment %}
<th>
  {% with current=request.GET.sort %}
    {% if current == field %}
      <a href="?{{ sort_query_string }}{% if sort_query_string %}&{% endif %}sort=-{{ field }}">{{ label }}</a> ▲
    {% elif current == '-'|add:field %}
      <a href="?{{ sort_query_string }}{% if sort_query_string %}&{% endif %}sort={{ field }}">{{ label }}</a> ▼
    {% else %}
      <a href="?{{ sort_query_string }}{% if sort_query_string %}&{% endif %}sort={{ field }}">{{ label }}</a>
    {% endif %}
  {% endwith %}
</th>
