{% extends 'base.html' %}
{% block title %}Supplier Detail{% endblock %}
{% block content %}
<h2>{{ supplier.name }}</h2>
<p><strong>Contact:</strong> {{ supplier.contact_person }}</p>
<p><strong>Phone:</strong> {{ supplier.phone }}</p>
<p><strong>Email:</strong> {{ supplier.email }}</p>
{% if bank %}<p><strong>Bank:</strong> {{ bank.name }} ({{ bank.swift_code }})</p>{% endif %}
<p><strong>Address:</strong> {{ supplier.address }}</p>
<p><strong>Status:</strong> {% if supplier.is_connected %}Connected{% else %}Disconnected{% endif %}</p>
<p><strong>Verified:</strong> {{ supplier.is_verified }}</p>
{% if error %}<div class="alert alert-danger">{{ error }}</div>{% endif %}
{% if can_verify %}
<form method="post" action="{% url 'supplier_verify' supplier.id %}" class="mb-3">
  {% csrf_token %}
  <div class="input-group">
    <input type="text" name="otp" class="form-control" placeholder="Enter OTP" required>
    <button type="submit" class="btn btn-primary">Verify</button>
  </div>
</form>
{% endif %}
{% if can_toggle %}
<form method="post" action="{% url 'supplier_toggle' supplier.id %}" class="d-inline">
  {% csrf_token %}
  <button type="submit" class="btn btn-warning">Toggle Connection</button>
</form>
{% endif %}
{% endblock %}
